# **[Course 1] Part 2. 운영체제**

## Ch 1. 오리엔테이션

1. 오리엔테이션
2. 프로세스와 스레드
3. CPU 스케줄링
4. 동기화와 교착 상태
5. 가상 메모리
6. 파일 시스템

### 운영체제의 핵심부, 커널(kernel)

이중모드
- 커널 모드 : **운영체제 서비스**를 제공받을 수 있는 모드 (입출력 가능)
- 사용자 모드 : **운영체제 서비스**를 제공받을 수 없는 모드 (입출력 불가능)

응용 프로그램(사용자 프로그램)의 자원 임의 접근?
- 커널 모드 : 커널 영역의 코드를 실행할 수 있는 모드
- 사용자 모드 : 커널 영역의 코드를 실행할 수 없는 모드

> 여러 단계로 나눈 권한 : 보호 링(protection ring)

시스템 콜 : 운영체제 서비스를 제공받기 위해 커널 모드로 전환하는 것
1. 시스템 콜
2. 시스템 콜 복귀
3. 운영체제 코드 실행<br>
- 소프트웨어 인터럽트

운영체제 핵심 서비스
- 프로세스(실행중인 프로그램) 관리
- 자원 관리 접근 및 할당
  - CPU
  - 메모리
  - 보조기억장치 & 입출력장치
- 파일 시스템 관리 - 파일 시스템 (파일과 디렉토리를 관리해주는 운영체제 내부 프로그램)

### 가상 머신(VM)
VirtualBox<br>
Ubuntu
2G Mem, 2 CPU, 25GB Disk

strace : 시스템 콜을 추적하기 위한 도구

시스템콜 맛보기
- open/close
  - open : 파일을 여는 시스템 콜. 파일 디스트립터 반환.
  - close : 파일을 닫느 시스템 콜 (파일 관련 자원 해제)
- read/write
  - read : 파일 디스크립터에서 데이터를 읽어들이는 시스템 콜
  - write : 파일 디스크립터에 데이터를 쓰는 시스템 콜
- fork/exec
  - fork
    - 프로세스 복제하여 자식 프로세스 생성
    - 프로세스들이 계층적으로 구성되는 원리
  - exec (execl, execle, execlp, execv, execve, execvp)
    - 현재 프로세스의 주소 공간을 새로운 프로세스로 덮어쓰기
    - 자식 프로세스로 하여금 다른 코드를 실행토록 하기
- getpid/getppid
  - PID를 반환하는 시스템 콜
  - 부모 프로세스 PID를 반환하는 시스템 콜
- syslog
  - 시스템 로그 메세지 남기기
- exit
  - 실행 중인 프로그램 종료

> * 파일 디스크립터(file descripter) - 파일을 가리키는 고유한 값