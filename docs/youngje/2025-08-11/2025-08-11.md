## Ch 2. 네트워크 엑세스 계층

WAN → 인터넷<br>
LAN → 이더넷
- 현대 (유선) LAN에서 가장 대중적으로 사용되는 기술
- 물리 계층, 데이터 링크 계층 (네트워크 엑세스 계층) 스펙/프로토콜 정의

이너넷 기술
- 물리 계층 : 이더넷으로 통신이 가능한 케이블
- 데이터 링크 : 이더넷 프레임

이더넷은 현재까지도 발전 중인 기술<br>
이더넷 국제 표준 : IEEE 802.3

이더넷 표준 규격 버전 : 802.3 뒤 알파벳으로 표기
- 802.3u
- 802.3ab
- …

이더넷 표준 규격이 달라지면 케이블, 전송 속도 등이 달리질 수 있다.

| 표준 규격 | 전송 속도 | 연결 매체 종류 |
| --- | --- | --- |
| 802.3ab | 1 Gbit/s | 트위스티드 페어 케이블 |
| 802.3u | 100 Mbit/s | 트위스티드 페어 케이블 |
| 802.3ae | 10 Gbit/s | 멀티 모드 광 케이블 |
| 802.3cc | 25 Gbit/s | 싱글 모드 광 케이블 |

이더넷 케이블을 지칭할 때: **전송속도** **BASE**-**추가 특성**
- 10BASE-T
- 25GBASE-LR
- 5GBASE-T

| 전송 속도 표기 | 의미 |
| --- | --- |
| 10 | 10Mbps |
| 100 | 100Mbps |
| 1000 | 1Gbps(1000Mbps) |
| 2.5G | 2.5Gbps |
| 5G | 5Gbps |
| 10G | 10Gbps |
| 40G | 40Gbps |
| 100G | 100Gbps |

| 표준 규격 | 전송 매체 |
| --- | --- |
| IEEE802.3i | 10 BASE T |
| IEEE802.3u | 100 BASE TX |
| IEEE802.3ab | 1000 BASE T |
| IEEE802.3az | 2.5G BASE T |
| IEEE802.3bz | 1000 BASE T |
| IEEE802.3bz | 5G BASE T |
| IEEE802.3an | 10G BASE T |
| … | … |

| 추가 특성 표기 (전송 매체의 종류) | 의미 |
| --- | --- |
| C | 동축 케이블 |
| T | 트위스티드 페어 케이블 |
| S | 멀티 모드 광케이블 |
| L | 싱글 모드 광케이블 |

이더넷 프레임 : 이더넷 네트워크에서 주고받는 데이터 형식
- 프리앰블
  - 이더넷 프레임의 시작을 알리는 비트열, 송수신간의 도익화
  - 첫 7바이트는 10101010, 마지막 1바이트는 10101011(SFD)
- 목적지/송신지 MAC 주소
  - 물리적 주소, 네트워크 장치(NIC)마다 할당된 고유한 주소
- 이더타입/길이
  - 1536 이상일 경우 : 이더타입 (이 프레임이 무엇을 캡슐화했는지)
  - 1500 이하일 경우 프레임 크기

    | 이더타입 | 프로토콜 |
        | --- | --- |
    | 0800 | IPv4 |
    | 86DD | IPv6 |
    | 0806 | ARP |
    | … | … |
- 페이로드
  - 운반할 데이터
- FCS(Frame Check Sequence)
  - 오류 검출을 위한 CRC(Cyclic Redundancy Check) 값이 명시되는 필드

NIC(네트워크 인터페이스)
- 연결 매체를 통해 받은 신로를 컴퓨터에게 전달
- 네트워크에 연결하기 위한 하드웨어
- 연결 매체와 호스트 연결 (LAN에 접속하기 위한 하드웨어)
- 프레임 판단, 폐기
- 속도

허브(hub) - 더머허브, 오늘날에서는 사용하지 않는다
- 물리 계층의 장비
- MAC 주소를 사용하지 않는다 (MAC 주소는 데이터 링크 계층 개념)
- 호스트를 연결할 수 있는 포트 (port)
- 주소 개념이 없기 때문에 모든 포트로 정보를 내보냄
- 반이중 통신(half-duplex)
    - 송신 혹은 수신이 한 번에 한 번만 이루어지는 통신 (e.g. 무전기)
    - 동시에 허브로 데이터를 전송할 경우 충돌(collision)이 발생<br>
> 콜리전 도메인 : 충돌이 발생할 수 있는 범위
- 전이중 통신(full-duplex)
    - 송신과 수신이 동시에 이루어지는 통신 (e.g. 전화)

CSMA/CD
1. CS: Carrier Sense
   - 캐리어(반송파) 감지 : 메세지 전송 전 현재 전송 중인 메시지가 있는지 확인
2. MA: Multiple Access 
   - 다중 접근 : 두 개 이상의 호스트가 동시에 네트워크에 접근 (충돌 발생)
3. CD: Collision Detection
   - 충돌 감지: 잼 신호(jam signal)를 보낸 뒤 임의의 시간 동안 대기 후 재전송

허브의 특성 정리
- 전달 받은 신호를 모든 포트로 내보내고
- 연결된 모든 호스트가 충돌 도메인에 속해 있으며
- 반이중 모드로 통신하는
- 물리 계층의 장비

스위치
- 전달 받은 신호를 목적지 포트로만 내보내고
- 목적지 호스트가 연결된 곳만 충돌 도메인에 속해 있으며
- 전이중 모드로 통신하는
- 데이터 링크 계층의 장비 → MAC 주소 활용

MAC 주소 학습 기능
- 포트에 연결된 호스트와 MAC 주소의 관계를 기억하는 스위치 기능
- MAC 주소 테이블
1. 플러딩 : 허브와 같이 모든 포트에 프레임 전송
2. 포워딩과 필터링 : 어떤 포트로 내보낼지(포워딩) 내보내지 않을지(필터링) 결정
3. 에이징 : 특정 시간이 지나면 MAC 주소 테이블 항목 삭제

VLAN이란?
- 스위치 기능
- 가상의 LAN
물리적 위치에 관계 없이 특정 LAN에 속할 수 있음

VLAN (Virtual LAN)
- 포트 기반 VLAN (정적 VLAN)
- MAC 주소 기반 VLAN (동적 VLAN)