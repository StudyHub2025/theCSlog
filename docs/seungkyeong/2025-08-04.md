[Part 3. 네트워크]

* Ch 5 응용 계층
  - HTTP 헤더 구조
    - header-field = field name “:” field-value
    - 메세지 전송에 필요한 부가 정보

  - 대표적인 헤더 정보
    - Host: 요청 호스트에 대한 호스트명 + 포트 정보
    - Date: 메세지 생성 시간
    - **Referer**: 직전에 머물렀던 URL
      - 직전에 클라이언트가 어떤 경로로 서버에 요청을 보냈는지 알 수 있다
    - User-Agent: 클라이언트 소프트웨어, 브리우저 명칭과 정보
    - Server: 서버 소프트웨어 명칭과 정보
    - Connection: keep-alive(지속 연결)일 경우 킵 얼라이브
    - Location: 리다이렉트시 이동할 경로
    - **Content-Type** :  HTTP 요청 및 응답에서 사용될 컨텐츠의 유형
        - **MIME 타입으로 명시**
          - 웹 상에서 컨텐츠의 유형을 나타내기 위한 방법
            (<type/subtype> 형식으로 표기, *은 '모든'을 의미)
          - 일종의 웹 상에서 확장자를 나타내기 위한 방법!
          - 종류
            - text/html; charset=utf-8: HTML 문서, 인코딩 형식은 utf-8
            - application/json: JSON 형식 데이터, **API Request-Reseponse에서 주로 사용**
            - image/png: png 타입 이미지 데이터
            - text/plain; charset=utf-8: 텍스트 파일 데이터, 인코딩 형식은 utf-8
            - application/xml: xml 데이터
            
    - Content-Encoding: 데이터의 인코딩/압축 방식
      - gzip: gzip 압축 (가장 대중적)
      - deflate: deflate 압축
      - br: brotli 압축
      - identity: 압축하지 않음
    - Content-Length: 데이터의 바이트 단위 길이
    - Content-Language: 데이터의 언어
      - en, en-US: 영어
        - en:일반적 영어
        - en-US: 미국이라는 국가의 영어
      - ko, ko-KR: 한국어
        - ko:일반적 한국어,
        - ko-KR: 한국이라는 국가의 한국어

----
 - 네트워크에서의 캐시란?
   - 서버의 지연을 줄이기 위해 웹 페이지, 이미지 등의 **자원 사본을 임시 저장**하는 웹 기술
   - 캐시된 자원이 저장되는 공간 : 클라이언트(브라우저) 혹은 특별한 서버(캐시 서버, 프록시 서버)

 - cache-control 헤더
   - cache-control 헤더로 캐시 기능을 알린다
   - 종류
     - cache-control: max-age=숫자(초)   → 캐시한 자원의 지속 시간
     - cache-control: no-cache  → 캐시 가능한 자원이나, 항상 origin 서버에 검증하기
       즉, 캐시서버 또는 프록시 서버에서 검증하지 않고 origin 서버에 검증해라
     - cache-control: no-store   → 캐시하면 안될 자원

 - **Last-Modified** 헤더
   - 해당 자원이 언제 마지막으로 변경 되었는지를 알리는 헤더 
     ex) Last-Modified: 2023년 8월 1일 09:00:00

 - 캐시된 자원의 변경 -1
   1. 클라이언트는 요청시 **if-modified-since** 헤더로 특정 시점 이후 자원 변경 여부를 묻는다
   2. 만일 변경되었다면 다시 다운로드
   3. 만일 변경되지 않았다면 서버는 **304 Not Modified** 응답을 보낸다
      → "자원이 변경 되지 않았으니까, 캐시로 Redirect 해라"
 - 캐시된 자원의 변경 -2 
   - Etag를 통해 자원의 변경 여부 감지 가능
   1. 서버는 캐시된 자원에 **Etag**라는 식별 문자를 붙이고
       - Etag : 자원에 붙이는 일종의 버전
   2. 클라이언트는 **If-None-Match** 헤더를 통해 해당 Etag가 변경되었는지를 물어본다
      → 변경되면 새로운 자원을 전송

----
 - 쿠키(cookie)란?
   - **서버로부터 받은 정보**를 클라이언트 측(웹 브라우저)에 임시 저장되는 **이름=값** 형태의 데이터
   - **유효 기간**이 있음
   - 쿠키를 전송할 **도메인**과 **경로**가 정해져 있음
   - 서버가 **Set-Cookie** 헤더로 쿠키를 전달하면,
     클라이언트는 쿠키를 저장하여 다음  HTTP 요청의 **Cookie** 헤더로 활용한다
     - 쿠키의 도메인
       - Set-Cookie: domain=example.com
         example.com(을 비롯한 서브 도메인) 에 접근할 때 쿠키 활용

     - 쿠키의 경로
       - Set-Cookie: **path=/**
         path에 명시된 경로의 하위 경로에서 쿠키 활용
         path=/posts → path=/posts/1, path=posts/2, path=/posts/3

     - 쿠키의 유효기간
       - Set-Cookie: **expires=Wed, 10 Aug 2023 12:00:00 GMT**
         - 쿠키의 만료되는 시점
       - Set-Cookie: **max-age=1000**
         - 쿠키를 활용 가능한 시간
   - **쿠키는 보안에 민감하다 **
     → 쿠키 정보는 탈취 당하지 않도록 주의가 필요

 - 쿠키와 세션
   - 쿠키의 저장/관리 주체가 클라이언트(브라우저)라면
     세션의 저장/관리 주체는 서버
   - 서버는클라이언트를 식별할 수 있는 세션 ID를 제공하고,
     클라이언트는 서버에게 세션  ID를(쿠키로) 넘겨 호스트를 식별하게 할 수 있다

 - 쿠키의 보안 기능
   - Secure
     - HTTPS인 경우에만 전송
       - HTTPS는 http가 더 안전하게 전송될 수 있도록 TLS 암호화 방식을 사용한 것
   - HTTPOnly
     - 자바스크립트에서 접근 불가(document.cookie)
     - XSS 공격 방지

----
 - 컨텐츠 협상( Content negotiation)
   - 클라이언트가 원하는 컨텐츠를 받을 수 있도록 서버에게 부탁하는 기능
   - 컨텐츠 타입, 언어, 인코딩 방법 등 클라이언트 맞춤 컨텐츠 제공 기능
     - **Accept(-X)** 헤더 이용
   - 여러 맞춤 요청을 보낼 수 있음

[Part 4. 시스템 프로그래밍]
* Ch 1 오리엔테이션
  - 시스템 프로그래밍이란
    - 운연체제, 하드웨어와의 상호작용을 프로그래밍 하는 것
    - **커널이 제공하는 기능**을 직접 제공 받으며 low-level에서 동작하는 프로그램을 작성하는 것
    - 커널이 제공하는 기능: **시스템 콜 주로 활용**

----
 - vi/vim 편집기
   - vi 파일명
     → 파일 편집기 열기 (파일이 없으면 임시 생성)
   - 모드 전환
     - 기본: 명령 모드
     - 입력 모드 진입: i 또는 a
     - 명령 모드로 나가기: ESC
   - 명령어
     - 저장: :w
     - 종료: :q
     - 저장 후 종료: :wq