# 시스템 프로그래밍
## Ch 3. 프로세스와 스레드 다루기
### 프로세스 다루기

프로세스 생성 - fork
- @return
    - getpid : 현재 프로세스의 PID
    - getppid : 부모 프로세스의 PID

새로운 프로그램으로 프로세스 메모리를 채우기 - exec family
- 함수 명의 알파벳
    - l : 리스트 형식으로 인자 전달 (arg0, arg1, ..., NULL)
    - v : 벡터(문자열) 형식으로 인자 전달
    - p : 기본 환경 변수 ($PATH)에서 찾음
    - e : 새로운 환경 변수 설정 가능
- @return
    - 성공시 리턴 없음
    - 실패시 -1

종료 - exit
  - @param
    - status : 종료 상태 (0==정상 종료, 이외==비정상)
* Zombie process 주의 -> 자원 낭비

자식 프로세스가 종료될 때까지 대기 - wait
- @param
    - wstatus : 종료된 child process의 상태 저장(포인터가 가리키는 변수에 자식 프로세스 종료시 리턴하거나 exit 함수 호출시 전달한 인자값이 저장됨)
- @return
    - 성공시 종료된 자식 프로세스의 PID
    - 실패시 -1

### 스레드 다루기
스레드 생성 - pthread_create
- @param
    - thread : 스레드 ID가 저장될 곳
    - attr : 스레드 속성(NULL일 경우 기본 속성으로 초기화)
    - start_routine : 스레드가 실행할 대상
    - arg : 스레드 실행시 사용할 인자
- @return
    - 성공시 0
    - 실패시 errorno

* phread_attr_t 구조체
- pthread_attr_init() : 스레드 속성 초기화
- pthread_attr_destroy() : 스레드 속성 폐기
: 스택 크기, 스케줄링 인자, 최초 detach 상태 등 대부분 NULL로 지정

스레드 조인 - pthread_join
- @param
    - thread : 기다릴 스레드 ID
    - retval : 스레드의 종료 상태 저장
- @return
    - 성공시 0
    - 실패시 errorno

스레드 떼어내기 : 종료시 자동으로 자원해체 - pthread_detach
- @param
    - thread : 떼어낼 스레드 ID
- @return
    - 성공시 0
    - 실패시 errorno

스레드 종료 - exit
- @param
    - retval : 스레드의 종료 상태 저장

### 뮤텍스와 세마포
뮤텍스 초기화 - pthread_mutex_init
- @param
    - mutex : mutex instance
    - attr : mutex 속성(일반적으로 NULL)
- @return
    - 성공시 0
    - 실패시 errorno

뮤텍스 락/언락 - pthread_mutex_lock
  - @param
    - mutex : mutex instance
  - @return
    - 성공시 0
    - 실패시 errorno

락 여부 확인 - pthread_mutex_trylock
  - @param
    - mutex : mutex instance
  - @return
    - 성공시 0
    - 실패시 errorno

뮤텍스 삭제 - pthread_mutex_destroy
  - @param
    - mutex : mutex instance
  - @return
    - 성공시 0
    - 실패시 errorno

세마포
- unnamed semaphore : 공유 메모리에 대한 동기화 수행시 활용 
- named semaphore : 일반적인 자원에 대한 동기화 수행시 활용