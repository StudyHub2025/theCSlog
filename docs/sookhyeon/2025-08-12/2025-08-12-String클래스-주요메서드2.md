# String 클래스

## 1. String 클래스 - 기본

### 1-1. 문자 다루기
자바에서 문자를 다루는 대표 타입은
- **`char`** (문자 하나)
- **`String`** (문자열)

```java
char[] charArr = new char[]{'h', 'e', 'l', 'l', 'o'};
System.out.println(charArr); // hello

String str = "hello";
System.out.println("str = " + str); // str = hello
```
- `char[]`은 여러 문자 표현 가능하지만, 직접 다루기 불편
- `String` 클래스는 내부적으로 `char[]`을 사용하며, 편리한 기능 제공

---

### 1-2. 문자열 생성 방법
```java
String str1 = "hello";              // 리터럴 방식
String str2 = new String("hello");  // new 키워드 사용
```
- **리터럴**: `" "` 로 감싸면 컴파일러가 `new String("...")`로 변환
- 문자열은 **참조형**이므로 변수에는 참조값이 저장됨

---

### 1-3. String 클래스 구조
```java
public final class String {
    private final char[] value; // Java 9 이전
    private final byte[] value; // Java 9 이후
    ...
}
```
- **불변(final)** 필드로 문자열 저장
- Java 9 이후에는 `byte[]` + 인코딩 방식을 사용해 메모리 효율 향상

---

## 2. String 클래스와 참조형

문자열 더하기 예시:
```java
String a = "hello";
String b = " java";

String result1 = a.concat(b); // concat 메서드 사용
String result2 = a + b;       // '+' 연산 지원 (내부적으로 concat 사용)
```
- 원칙적으로 참조형은 `+` 연산 불가
- 문자열은 자주 쓰이므로 예외적으로 `+` 연산 지원

---

## 3. String 클래스 - 비교

### 3-1. 동일성 vs 동등성
- **동일성(==)** : 같은 객체 참조 여부
- **동등성(equals)** : 내용이 같은지 여부

```java
String str1 = new String("hello");
String str2 = new String("hello");

System.out.println(str1 == str2);        // false
System.out.println(str1.equals(str2));   // true
```

---

### 3-2. 문자열 풀(String Pool)
- 문자열 리터럴은 **문자열 풀**에 저장되어 재사용됨
```java
String str3 = "hello";
String str4 = "hello";

System.out.println(str3 == str4);        // true
System.out.println(str3.equals(str4));   // true
```
- 동일한 리터럴을 사용하면 같은 참조값 사용 → 메모리 절약, 성능 향상

---

### 3-3. equals 사용 권장
메서드 파라미터로 문자열을 비교할 때는, 생성 방식(리터럴/new) 알 수 없으므로 항상 `equals()` 사용

---

## 4. String 클래스 - 불변 객체

- **String**은 불변(Immutable)
- 한 번 생성된 문자열 값은 변경 불가
- 변경 시 **새로운 String 객체 생성**

```java
String str1 = "hello";
String str2 = str1.concat(" java");

System.out.println(str1); // hello
System.out.println(str2); // hello java
```
- 문자열 풀 사용 시, 불변성이 없으면 다른 참조 변수 값도 함께 바뀌는 **사이드 이펙트** 발생 가능 → 방지 목적

---

## 5. String 클래스 - 주요 메서드1

### 5-1. 문자열 정보 조회
- **`length()`** : 길이 반환
- **`isEmpty()`** : 길이 0인지 확인
- **`isBlank()`**(Java 11) : 길이 0 또는 공백만 있는지
- **`charAt(int index)`** : 해당 위치 문자 반환

```java
String str = "Hello, Java!";
System.out.println(str.length());       // 12
System.out.println(str.isEmpty());      // false
System.out.println("   ".isBlank());    // true
System.out.println(str.charAt(7));      // J
```

---

### 5-2. 문자열 비교
- **`equals()`**, **`equalsIgnoreCase()`**
- **`compareTo()`**, **`compareToIgnoreCase()`**
- **`startsWith()`**, **`endsWith()`**

```java
String s1 = "Hello, Java!";
String s2 = "hello, java!";
System.out.println(s1.equals(s2));           // false
System.out.println(s1.equalsIgnoreCase(s2)); // true
System.out.println(s1.startsWith("Hello"));  // true
System.out.println(s1.endsWith("Java!"));    // true
```

---

### 5-3. 문자열 검색
- **`contains()`** : 포함 여부
- **`indexOf()`** : 첫 등장 인덱스
- **`lastIndexOf()`** : 마지막 등장 인덱스

```java
String str = "Hello, Java! Welcome to Java world.";
System.out.println(str.contains("Java"));       // true
System.out.println(str.indexOf("Java"));        // 7
System.out.println(str.lastIndexOf("Java"));    // 24
```

---

## 6. String 클래스 - 주요 메서드2

### 6-1. 문자열 조작 및 변환
- **`substring()`** : 부분 문자열 추출
- **`concat()`** : 문자열 결합
- **`replace()`**, **`replaceAll()`**, **`replaceFirst()`** : 치환
- **`toLowerCase()` / `toUpperCase()`** : 대소문자 변환
- **`trim()` / `strip()`** : 공백 제거

```java
String str = "Hello, Java! Welcome to Java";
System.out.println(str.substring(7));        // Java! Welcome to Java
System.out.println(str.substring(7, 12));    // Java!
System.out.println(str.replace("Java", "World"));
// Hello, World! Welcome to World
```

---

### 6-2. 문자열 분할 및 조합
- **`split(String regex)`** : 분리
- **`join(CharSequence delimiter, CharSequence... elements)`** : 결합

```java
String fruits = "Apple,Banana,Orange";
String[] arr = fruits.split(",");
System.out.println(String.join("-", arr)); // Apple-Banana-Orange
```

---

### 6-3. 기타 유틸리티
- **`valueOf()`** : 타입 → 문자열 변환
- **`toCharArray()`** : 문자 배열 변환
- **`format()`** : 서식 문자열
- **`matches()`** : 정규식 일치 여부

```java
int num = 100;
System.out.println(String.valueOf(num)); // "100"
System.out.println(String.format("num: %d", num)); // num: 100
System.out.println("Hello, Java!".matches("Hello, (Java!|World!)")); // true
```
