# 좋은 구현이란
### 1. 비즈니스 가치를 명확히 충족 시켜야 한다.
소비자는 뒷단에서 우리가 무슨 기술을 사용했는지 관심이 없다. 그저 내가 원하는 대로 잘 작동되는지만 느낄 뿐.  
기술은 도구일 뿐이다. 좋은 도구를 찾는 것도 비즈니스 목표 달성을 위한 것이다.
### 2. 잘 읽혀야한다.
개발을 단순히 코드 쓰기와 읽기라고 분류하면 읽는 시간이 더 많다(약 80% 정도?)  
즉, 코드 가독성이 좋아야 업무 효율을 높일 수 있다.  
별도 문서가 있기보다는 코드 자체로 도메인을 파악할 수 있어야한다.
### 3. 테스트 코드 작성이 쉬워야한다.
코드간 의존성이 낮아야 테스트 코드 작성이 쉽다.
### 4. 변경에 유연해야한다.
아무리 이번에는 변경이 없을거야!라고 공지를 들었다고 해도 변경은 생기기 마련이다.  
변경에 유연하려면 객체지향 설계 원칙에 따르는 것이 좋다.  
(단일 책임 원칙, 개방 폐쇄 원칙, 리스코프 치환 원칙, 의존 관계 역전 원칙, 인터페이스 분리 원칙 등등)

# 도메인 주도 설계(DDD)
강의에서의 Layer 구조  
interfaces -> application -> domain <- infrastructure   
핵심은 domain layer  
### Domain Layer
추상화 레벨을 높여야한다.  
기술보다는 어떤 업무를 어떤 순서로 했는지가 중요하다.  
Service는 interface만, infrastructure에서 구현한다. -> Service만 읽어도 업무 흐름을 파악할 수 있게
Service간의 의존은 없어야한다.
### Infrastructure Layer
DIP(의존 관계 역전 원칙)을 활용해 도메인이 사용하는 interface를 실제 구현체로 만든다.  
비교적 구현 자유도가 높다.  
구현체 간 참조 관계를 허용한다.
### Application Layer
수행할 작업을 정의하고 도메인 객체가 문제를 해결하도록 지시한다. 따라서 얇게 유지 가능하다.  
transacion을 적절히 활용한다.
즉, 외부와 커뮤니케이션 하면서 도메인 로직을 요구사항에 맞게 실행하는 역할
### Interfaces Layer
request와 response는 최소한의 정보로 유지한다. 많이 보내면 나중에 수정하기 힘들다.(아예 한번 오픈하면 바꿀 수 없는 것이라고 생각하는 것이 편하다.)
서비스간 통신은 이곳에서만 한다.
즉, 시스템 외부에서 전달되는 요청을 해석해서(프로토콜의 다양성을 커버) fasade에 맞게 해석하고 결과를 return한다.

# 권장하는 구현 방식
### 개발 디자인 문서를 작성한 후에 구현을 시작하자.
서비스 구현에 대한 목표와 설계, 제약 사항등을 미리 생각해본 후에 시작하면 큰 시행 착오 없이 원하는 구현을 진행할 수 있다.  
개발디자인 문서를 작성하고 동료와 공유한다. 리뷰하면 더 좋은 디자인과 방향성을 잡을 수 있다. 인수인계도 수월하고 넘겨받는 사람 입장에서 이해하기도 쉬워서 효율적이다.  
### 테이블 설계 말고 "도메인"도출을 먼저하자
테이블이 필요없는 도메인도 존재한다.
### 변수명, 메서드 명에 많은 신경을 쓰자
코드 리딩시간을 줄여준다.
### API 명세시 request와 response의 property는 필수값만 유지되도록한다.
한 객체에 많은 역할을 부여하지 말자
### setter는 쓰지 않거나 최소화한다.
캡슐화된 도메인과 객체를 깨트리는 주범이다.  
생성자를 이용해 필수값을 객체 생성 시에 받도록 하고 상태 변경시에는 적절한 메서드명을 가진 상태변경 로직을 만드는 것이 맞다.
### transaction의 사용과 범위 설정은 여러번 고민 후에 결정하자.
보편적으로는 작게 잡는 것이 좋다. 다만 서비스의 성격에 따라 다르다.
### try-catch는 필요한 경우가 아니면 쓰지 말자
catch문 안에서 특별한 일(의미 있는 비즈니스 로직 실행)을 하는게 아니라면 global에서 처리할 수 있게 하자.
### 꼭 필요한 상태(Status)만 선언하자
도메인 객체가 현실에 존재하는 모든 상태를 표현할 필요는 없다. 이루고자하는 기능을 만들어내는데 필요한 값만 만들어도 된다.
### 주요 로직의 테스트 코드는 본인을 살리는 길이다.
요구사항은 수시로 변경된다.테스트 코드 작성과 코드리뷰로 예상 못한 버그를 잡을 수 있다.
### 우선 목표한 기능이 동작하게끔 구현한 후에 작게 작게 리펙토링 한다.
어쨌든 주어진 시간 내에 기능을 완성하는 것이 더 중요하다.  
<br>  
<br>
  <br>
⚠️ **실습을 해야 더 제대로 이해할 수 있을 것 같음. 완강 후 part2만 한번 더 들을 예정**
