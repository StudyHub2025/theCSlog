## Ch.4 CPU

### CPU 구성 요소
- ALU : 연산 수행
- 제어장치 : cpu 내부에서 명령어 해석 및 제어 신호 출력
- 레지스터 : 명령어 처리 갑을 임시 저장

ALU 에서 처리한 연산 결과를 레지스터,
연산 결과에 대한 부가정보는 플래그 레지스터에 저장

플래그 레지스터 (Flag Register)
- 부호 플래그 : 음수 판별
- 제로 플래그
- 캐리 플래그 : 올림, 빌림수가 발생했는지 여부
- 오버플로우 플래그
- 인터럽트 플래그인터럽트 : CPU의 정상적인 실행 흐름을 끊는 신호
- 슈퍼바이저 플래그 : 커널 모드/ 사용자 모드 판별
커널 모드 : 운영체제 프로그램의 핵심, 하드웨어를 직접 조작하거나 보안상 예민한 코드들은 사용자 모드가 아닌 커널 모드에서만 실행 가능
사용자 모드 : 일반 애플리케이션 실행

제어장치
플로그 레지스터에서 플래그 수신
명령어 레지스터에서 명령어를 클럭이라는 신호로 수신
cpu 내부 (레지스터, ALU) 제어
CPU 외부에 제어 신호 출력하기 위해 제어 버스(시스템 버스)로 신호 전달

클럭 신호 : CPU와 부품 실행의 시간 단위

시스템 버스 
- 주소 버스 : 메모리 주소 전송
- 데이터 버스 : 데이터 전송
- 제어 버스 : 제어 신호 전송

### 주요 레지스터 종류 
- 프로그램 카운터 : 다음 수행할 명령어 주소를 저장 / 특별한 경우(JMP, 인터럽트)를 제외하고는 +1씩 증가하며 순차적으로 실행
- 명령어 레지스터 : 해석할 명령어를 저장
- 메모리 주소 레지스터 : 주소 버스(시스템 버스)를 통해 주고받은 명령어가 담긴 메모리 주소 저장
- 메모리 버퍼 레지스터 : 데이터 버스(시스템 버스)를 통해 주고받은 명령어와 데이터 저장
- 플래그 레지스터
- 범용 레지스터
- 스택 포인터 : 스택 영역 중 실데이터가 있는 최상단 포인터 eg. 스택 주소 지정 방식
- 베이스 레지스터 

### 명령어 사이클과 인터럽트
인터럽트
: CPU의 정상적인 실행 흐름을 중단하는 외부 또는 내부 신호
- 동기 인터럽트 (exception)
주로 CPU에 의해 발생
- 비동기 인터럽트
주로 하드웨어에 의해 발생
CPU가 폴링을 하게되면 불필요한 사이클이 낭비 -> 인터럽트를 받기 전까지 다른 업무 수행

하드웨어 인터럽트 처리 순서
1. 입출력 장치는 cpu에게 인터럽트 요청 신호를 보냄
2. CPU는 인터럽트 여부 확인
3. 요청 확인 후 수용 여부 확인
4. 인터럽트가 가능하면 현재 작업 스택에 백업
5. 인터럽트 벡터를 참고하여 인터럽트 서비스 루틴(ISR)
6. 스택에 백업한 작업 복구, 실행 재개

인터럽트 서비스 루틴(ISR) : 인터럽트를 실행하는 프로그램
인터럽트 백터 : ISR의 시작 주소를 포함하는 식별 정보

### 멀티 코어와 멀티 프로세서
CPU 성능 향상 방법
- 높은 클럭수
- 멀티 코어
- 멀티 프로세서
- 명령어 병렬 처리

스레드
하드웨어 : 하나의 코어가 동시에 처리하는 명령어 단위
소프트웨어 : 하나의 프로그램을 독립적으로 실행하는 단위

### 명령어 병렬 처리 - 파이프라이닝
Pipelining : 명령어가 처리되는 다른 단계를 동시에 처리하는 기법
파이프라인 해저드 (Hazard)
- 데이터 위험 : 명령어간 의존성에 의해 발생
- 제어 위험 : 프로그램 카운터의 갑작스러운 변화에 의해 발생(JMP)대응 기법 : 분기 예측
- 구조적 위험 : 서로 다른 명령어가 같은 자원을 사용대응 : 하드웨어 성능에 따라 대응 가능

### 비순차적 명령어 처리
명령어 순서를 바꿈으로써 파이프라이닝의 성능을 높임(병목 최소화)

## Ch.5 메인 메모리와 캐시 메모리

### RAM과 ROM
RAM 휘발성 vs ROM 비휘발성
RAM의 종류
- DRAM(Dynamic) : 시간이 지나면 점자 저장된 데이터가 사라짐
- SRAM(Static) : 시간이 지나도 저장된 데이터가 사라지지 않음단, 전원이 꺼지면 동일하게 데이터 휘발
- SDRAM(Synchromous Dynamic) : 클럭과 동기화, 클럭의 타이밍에 맞춰 CPU의 정보를 주고받음
- DDR SDRAM(Double Data Rate) : 대역폭을 넓혀 속도를 높임
- DDRn SDRAM : 2의 배수단위로 성능 향상

### 리틀 엔디안과 빅 엔디안
- 빅 엔디안 : 낮은 번지 주소부터 MSB를 저장
- 리틀 엔디안 : LSB , 자리 올림 등 수치 계산에 용이

### 논리 주소와 물리 주소
논리 주소 ↔ 물리 주소 주소 변환 
: MMU(Memory Management Unit)
MMU의 기본 동작
- 베이스 레지스터를 활용

## Ch.6 보조기억장치와 입출력장치

### RAID
RAID 0 (스트라이핑) : 데이터를 나눠서 입출력
RAID 1 (미러링) : 2개의 디스크에 나눠 저장하여 백업 디스크로 활용
RAID 4 : 패리티 비트를 저장하여 오류 검출 가능
RAID 5 : 패리티 비트를 분산하여 저장, RAID 4의 병목 해소
RAID 6 : 패리티를 두개씩 저장하여 복수의 디스크에서 동시에 장애가 발생하는 경우를 해결